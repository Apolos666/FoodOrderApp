@using Microsoft.AspNetCore.Identity
@inject SignInManager<AppUser> SignInManager
@inject UserManager<AppUser > UserManager

@if (SignInManager.IsSignedIn(User))
{
    <li class="header-middle-right-item dropdown open">
        <i class="fa-light fa-user"></i>
        <div class="auth-container">
            <span class="text-dndk">Tài khoản</span>
            <span class="text-tk">@UserManager.GetUserName(User) <i class="fa-sharp fa-solid fa-caret-down"></i></span>
        </div>
        <ul class="header-middle-right-menu">
            @if (User.IsInRole("admin"))
            {
                <li><a><i class="fa-light fa-circle-user"></i>Admin panel</a></li>
            }
            <li><a asp-controller="Profile" asp-action="Index"><i class="fa-light fa-circle-user"></i> Tài khoản của tôi</a></li>
            <li><a asp-controller="OrderHistory" asp-action="Index"><i class="fa-regular fa-bags-shopping"></i> Đơn hàng đã mua</a></li>
            <li class="border"><a id="logout" asp-controller="Home" asp-action="Logout"><i class="fa-light fa-right-from-bracket"></i> Thoát tài khoản</a></li>
        </ul>
    </li>
}
else
{
    <li class="header-middle-right-item dropdown open">
        <i class="fa-light fa-user"></i>
        <div class="auth-container">
            <span class="text-dndk">Đăng nhập / Đăng ký</span>
            <span class="text-tk">Tài khoản <i class="fa-sharp fa-solid fa-caret-down"></i></span>
        </div>
        <ul class="header-middle-right-menu">
            <li><a id="login" asp-controller="Account" asp-action="Login"><i class="fa-light fa-right-to-bracket"></i> Đăng nhập</a></li>
            <li><a id="signup" asp-controller="Account" asp-action="Register"><i class="fa-light fa-user-plus"></i> Đăng ký</a></li>
        </ul>
    </li>
}

